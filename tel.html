<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TÃ©lÃ©chargeur Questions JSON</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .info {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 4px solid #4CAF50;
        }
        button {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            border-radius: 25px;
            cursor: pointer;
            display: block;
            margin: 20px auto;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }
        button:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
        }
        .file-list {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        .file-item {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }
        .file-item:last-child {
            border-bottom: none;
        }
        .status {
            text-align: center;
            margin: 20px 0;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“š Questions ScÃ©nario</h1>
        
        <div class="info">
            <h3>ğŸ“‹ Contenu du ZIP</h3>
            <p>Ce tÃ©lÃ©chargement contient <strong>20 fichiers JSON</strong> reprÃ©sentant toutes les questions du scÃ©nario Ã©ducatif sur les stÃ©rÃ©otypes et discriminations.</p>
        </div>

        <button id="downloadBtn" onclick="generateZip()">
            ğŸ“¥ TÃ©lÃ©charger le ZIP
        </button>

        <div class="status" id="status"></div>

        <div class="file-list">
            <h3>ğŸ“ Fichiers inclus :</h3>
            <div class="file-item">ğŸ“„ question1.json - DÃ©finition des stÃ©rÃ©otypes</div>
            <div class="file-item">ğŸ“„ question2A.json - Correction (fait souvent vrai)</div>
            <div class="file-item">ğŸ“„ question2B.json - Correction (parler mal)</div>
            <div class="file-item">ğŸ“„ question2C.json - Confirmation (bonne rÃ©ponse)</div>
            <div class="file-item">ğŸ“„ question3.json - PublicitÃ© sexiste</div>
            <div class="file-item">ğŸ“„ question4A.json - RÃ©action positive</div>
            <div class="file-item">ğŸ“„ question4B.json - StÃ©rÃ©otype capacitÃ©</div>
            <div class="file-item">ğŸ“„ question4C.json - Pseudo-Ã©tudes</div>
            <div class="file-item">ğŸ“„ question5.json - Discrimination vestimentaire</div>
            <div class="file-item">ğŸ“„ question6A.json - Malentendu supposÃ©</div>
            <div class="file-item">ğŸ“„ question6B.json - Justification physique</div>
            <div class="file-item">ğŸ“„ question6C.json - Bonne comprÃ©hension</div>
            <div class="file-item">ğŸ“„ question7.json - RÃ©action aux pleurs</div>
            <div class="file-item">ğŸ“„ question8A.json - Soutien bienveillant</div>
            <div class="file-item">ğŸ“„ question8B.json - Injonction masculine</div>
            <div class="file-item">ğŸ“„ question8C.json - Insulte homophobe</div>
            <div class="file-item">ğŸ“„ question9.json - Demande de cÃ¢lin</div>
            <div class="file-item">ğŸ“„ question10A.json - Clarification</div>
            <div class="file-item">ğŸ“„ question10B.json - Action sans consentement</div>
            <div class="file-item">ğŸ“„ question10C.json - Respect du refus</div>
            <div class="file-item">ğŸ“„ question11.json - Message sur le consentement</div>
        </div>
    </div>

    <script>
        const questions = {
            "question1": {
                "id": "question1",
                "context": "Mya et Yanis sortent du lycÃ©e et discutent de leur journÃ©e. Mya a eu cours sur les stÃ©rÃ©otypes.",
                "question": "Yanis demande Ã  Mya ce qu'est un stÃ©rÃ©otype. Que rÃ©pond-elle ?",
                "choices": [
                    "C'est un fait qui est le plus souvent vrai",
                    "C'est quand on parle mal des gens", 
                    "C'est une opinion qui peut conduire Ã  des discriminations"
                ],
                "nextQuestions": {
                    "A": "question2A",
                    "B": "question2B",
                    "C": "question2C"
                }
            },
            "question2A": {
                "id": "question2A",
                "context": "Mya a d'abord dit qu'un stÃ©rÃ©otype Ã©tait un fait souvent vrai, mais se corrige.",
                "question": "Comment Mya corrige-t-elle sa rÃ©ponse ?",
                "choices": [
                    "Elle maintient sa premiÃ¨re rÃ©ponse",
                    "Elle dit que c'est plutÃ´t une opinion qui peut conduire Ã  des discriminations",
                    "Elle change complÃ¨tement de sujet"
                ],
                "nextQuestions": {
                    "A": "question3",
                    "B": "question3",
                    "C": "question3"
                }
            },
            "question2B": {
                "id": "question2B",
                "context": "Mya a dit qu'un stÃ©rÃ©otype c'est quand on parle mal des gens, mais Yanis doute.",
                "question": "Comment Mya corrige-t-elle sa rÃ©ponse ?",
                "choices": [
                    "Elle maintient sa premiÃ¨re rÃ©ponse",
                    "Elle dit que c'est plutÃ´t une opinion qui peut conduire Ã  des discriminations", 
                    "Elle change complÃ¨tement de sujet"
                ],
                "nextQuestions": {
                    "A": "question3",
                    "B": "question3",
                    "C": "question3"
                }
            },
            "question2C": {
                "id": "question2C",
                "context": "Mya a correctement dÃ©fini un stÃ©rÃ©otype comme une opinion qui peut conduire Ã  des discriminations.",
                "question": "Quelle est la rÃ©action de Yanis ?",
                "choices": [
                    "Il conteste cette dÃ©finition",
                    "Il dit 'Ah oui c'est vrai !'",
                    "Il ne rÃ©pond pas"
                ],
                "nextQuestions": {
                    "A": "question3",
                    "B": "question3", 
                    "C": "question3"
                }
            },
            "question3": {
                "id": "question3",
                "context": "Mya et Yanis voient une publicitÃ© montrant une femme en cuisine. Mya trouve que c'est un stÃ©rÃ©otype.",
                "question": "Pourquoi voit-on toujours des femmes sur les affiches de cuisine selon Yanis ?",
                "choices": [
                    "Ce sont de vieux stÃ©rÃ©otypes misogynes qui veulent faire croire que la cuisine est 'une tÃ¢che rÃ©servÃ©e' aux femmes",
                    "Elles sont bien meilleures que les hommes dans ce domaine",
                    "Des Ã©tudes sociologiques ont montrÃ© que les femmes s'intÃ©ressent plus Ã  la cuisine"
                ],
                "nextQuestions": {
                    "A": "question4A",
                    "B": "question4B", 
                    "C": "question4C"
                }
            },
            "question4A": {
                "id": "question4A",
                "context": "Yanis a identifiÃ© correctement les stÃ©rÃ©otypes misogynes.",
                "question": "Quelle est la rÃ©action de Mya ?",
                "choices": [
                    "Elle le contredit",
                    "Elle dit 'Exactement !'",
                    "Elle ne rÃ©pond pas"
                ],
                "nextQuestions": {
                    "A": "question5",
                    "B": "question5",
                    "C": "question5"
                }
            },
            "question4B": {
                "id": "question4B",
                "context": "Yanis pense que les femmes sont meilleures en cuisine.",
                "question": "Comment Mya rÃ©agit-elle ?",
                "choices": [
                    "Elle est d'accord avec lui",
                    "Elle dit 'N'importe quoi !' et explique pourquoi c'est un stÃ©rÃ©otype misogyne",
                    "Elle change de sujet"
                ],
                "nextQuestions": {
                    "A": "question5",
                    "B": "question5",
                    "C": "question5"
                }
            },
            "question4C": {
                "id": "question4C",
                "context": "Yanis Ã©voque des Ã©tudes sociologiques sur l'intÃ©rÃªt des femmes pour la cuisine.",
                "question": "Comment Mya rÃ©agit-elle ?",
                "choices": [
                    "Elle demande Ã  voir l'Ã©tude et explique que c'est peut-Ãªtre dÃ» aux rÃ´les imposÃ©s par la sociÃ©tÃ©",
                    "Elle accepte cette explication",
                    "Elle ignore sa remarque"
                ],
                "nextQuestions": {
                    "A": "question5",
                    "B": "question5", 
                    "C": "question5"
                }
            },
            "question5": {
                "id": "question5",
                "context": "Dans le bus, le conducteur fait une remarque dÃ©placÃ©e Ã  Mya sur sa tenue, alors que Yanis porte le mÃªme short.",
                "question": "Pourquoi le conducteur fait-il la remarque Ã  Mya et pas Ã  Yanis ?",
                "choices": [
                    "Les rÃ¨gles vestimentaires sont les mÃªmes, Mya a mal compris",
                    "Les garÃ§ons s'habillent plus large donc pas besoin de leur rappeler les rÃ¨gles",
                    "Les filles sont plus surveillÃ©es sous prÃ©texte qu'elles pourraient Ãªtre victimes d'agression"
                ],
                "nextQuestions": {
                    "A": "question6A",
                    "B": "question6B",
                    "C": "question6C"
                }
            },
            "question6A": {
                "id": "question6A",
                "context": "Yanis pense que Mya a mal compris et que le conducteur voulait faire attention Ã  elle.",
                "question": "Comment Mya rÃ©pond-elle ?",
                "choices": [
                    "Elle accepte cette explication",
                    "Elle dit que c'est n'importe quoi et que les vÃªtements ne justifient pas une agression",
                    "Elle ne rÃ©pond pas"
                ],
                "nextQuestions": {
                    "A": "question7",
                    "B": "question7",
                    "C": "question7"
                }
            },
            "question6B": {
                "id": "question6B",
                "context": "Yanis explique que son short est plus large comme pour les garÃ§ons en gÃ©nÃ©ral.",
                "question": "Comment Mya rÃ©agit-elle ?",
                "choices": [
                    "Elle est d'accord avec cette logique",
                    "Elle s'indigne et explique que les vÃªtements ne justifient pas une agression",
                    "Elle reste silencieuse"
                ],
                "nextQuestions": {
                    "A": "question7",
                    "B": "question7",
                    "C": "question7"
                }
            },
            "question6C": {
                "id": "question6C",
                "context": "Yanis comprend que c'est injuste et que les vÃªtements ne justifient pas une agression.",
                "question": "Quelle est la rÃ©action de Mya ?",
                "choices": [
                    "Elle le contredit",
                    "Elle dit 'Exactement !'", 
                    "Elle ne rÃ©pond pas"
                ],
                "nextQuestions": {
                    "A": "question7",
                    "B": "question7",
                    "C": "question7"
                }
            },
            "question7": {
                "id": "question7",
                "context": "Plus tard dans le bus, Yanis reÃ§oit un message de rupture et se met Ã  pleurer. Un petit garÃ§on dit que les garÃ§ons ne pleurent pas.",
                "question": "Comment Mya rÃ©agit-elle en voyant Yanis pleurer ?",
                "choices": [
                    "Est-ce que Ã§a va ? Tu veux en parler ?",
                    "Sois fort ! T'es un homme montre-le !",
                    "ArrÃªte de pleurer, ne fais pas ta tapette"
                ],
                "nextQuestions": {
                    "A": "question8A",
                    "B": "question8B",
                    "C": "question8C"
                }
            },
            "question8A": {
                "id": "question8A",
                "context": "Mya propose son soutien Ã  Yanis de maniÃ¨re bienveillante.",
                "question": "Comment Yanis rÃ©agit-il ?",
                "choices": [
                    "Il refuse de parler",
                    "Il la remercie de ne pas rÃ©agir comme le petit garÃ§on et explique sa situation",
                    "Il se met en colÃ¨re"
                ],
                "nextQuestions": {
                    "A": "question9",
                    "B": "question9",
                    "C": "question9"
                }
            },
            "question8B": {
                "id": "question8B",
                "context": "Mya dit Ã  Yanis d'Ãªtre fort car c'est un homme.",
                "question": "Comment Yanis rÃ©agit-il ?",
                "choices": [
                    "Il accepte ce conseil",
                    "Il dit qu'elle le saoule et remet en question ces stÃ©rÃ©otypes sur la virilitÃ©",
                    "Il arrÃªte de pleurer immÃ©diatement"
                ],
                "nextQuestions": {
                    "A": "question9",
                    "B": "question9", 
                    "C": "question9"
                }
            },
            "question8C": {
                "id": "question8C",
                "context": "Mya utilise une insulte homophobe en disant Ã  Yanis d'arrÃªter de 'faire sa tapette'.",
                "question": "Comment Yanis rÃ©agit-il ?",
                "choices": [
                    "Il accepte cette remarque",
                    "Il s'indigne et explique que c'est une insulte homophobe et que la tristesse concerne tout le monde",
                    "Il ignore la remarque"
                ],
                "nextQuestions": {
                    "A": "question9",
                    "B": "question9",
                    "C": "question9"
                }
            },
            "question9": {
                "id": "question9",
                "context": "AprÃ¨s leur discussion, Mya propose un cÃ¢lin Ã  Yanis qui rÃ©pond 'MDR'.",
                "question": "Comment Mya devrait-elle rÃ©agir face Ã  cette rÃ©ponse ambiguÃ« ?",
                "choices": [
                    "Lui redemander pour clarifier sa rÃ©ponse",
                    "Lui faire un cÃ¢lin directement",
                    "Ne pas lui en faire"
                ],
                "nextQuestions": {
                    "A": "question10A",
                    "B": "question10B",
                    "C": "question10C"
                }
            },
            "question10A": {
                "id": "question10A",
                "context": "Mya demande des clarifications sur la rÃ©ponse de Yanis.",
                "question": "Que se passe-t-il quand Mya demande Ã  Yanis d'Ãªtre plus clair ?",
                "choices": [
                    "Il se met en colÃ¨re",
                    "Il explique qu'il n'a pas envie mais ne voulait pas la vexer",
                    "Il accepte finalement le cÃ¢lin"
                ],
                "nextQuestions": {
                    "A": "question11",
                    "B": "question11",
                    "C": "question11"
                }
            },
            "question10B": {
                "id": "question10B",
                "context": "Mya fait un cÃ¢lin Ã  Yanis sans clarifier son consentement.",
                "question": "Comment Yanis rÃ©agit-il ?",
                "choices": [
                    "Il apprÃ©cie le geste",
                    "Il dit 'Ã‡a va pas ou quoi ? J'ai pas dit oui !'",
                    "Il ne dit rien"
                ],
                "nextQuestions": {
                    "A": "question11",
                    "B": "question11",
                    "C": "question11"
                }
            },
            "question10C": {
                "id": "question10C",
                "context": "Mya clarifie que Yanis ne veut pas de cÃ¢lin.",
                "question": "Comment Yanis confirme-t-il ?",
                "choices": [
                    "Il change d'avis",
                    "Il confirme qu'il n'a pas envie",
                    "Il ne rÃ©pond pas clairement"
                ],
                "nextQuestions": {
                    "A": "question11",
                    "B": "question11",
                    "C": "question11"
                }
            },
            "question11": {
                "id": "question11",
                "context": "Yanis explique qu'il n'est pas toujours facile pour un garÃ§on de dire non car on valorise l'idÃ©e qu'ils ont toujours envie.",
                "question": "Quel message principal Yanis veut-il faire passer ?",
                "choices": [
                    "Les garÃ§ons sont plus forts que les filles",
                    "Les garÃ§ons aussi ont le droit de ne pas avoir envie et doivent donner leur consentement",
                    "Les filles ne comprennent pas les garÃ§ons"
                ],
                "nextQuestions": {}
            }
        };

        function generateZip() {
            const btn = document.getElementById('downloadBtn');
            const status = document.getElementById('status');
            
            btn.disabled = true;
            btn.textContent = 'â³ GÃ©nÃ©ration en cours...';
            status.textContent = 'CrÃ©ation du fichier ZIP...';
            
            const zip = new JSZip();
            
            // Ajouter chaque question comme fichier JSON sÃ©parÃ©
            Object.keys(questions).forEach(questionId => {
                const questionData = questions[questionId];
                zip.file(`${questionId}.json`, JSON.stringify(questionData, null, 2));
            });
            
            // GÃ©nÃ©rer et tÃ©lÃ©charger le ZIP
            zip.generateAsync({type: "blob"}).then(function(content) {
                const link = document.createElement('a');
                link.href = URL.createObjectURL(content);
                link.download = 'questions_scenario_stereotypes.zip';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                btn.disabled = false;
                btn.textContent = 'âœ… TÃ©lÃ©chargement terminÃ© !';
                status.textContent = 'ZIP tÃ©lÃ©chargÃ© avec succÃ¨s !';
                
                setTimeout(() => {
                    btn.textContent = 'ğŸ“¥ TÃ©lÃ©charger le ZIP';
                    status.textContent = '';
                }, 3000);
            });
        }
    </script>
</body>
</html>