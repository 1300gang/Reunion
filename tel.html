<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T√©l√©chargeur Questions JSON</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .info {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 4px solid #4CAF50;
        }
        button {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            border-radius: 25px;
            cursor: pointer;
            display: block;
            margin: 20px auto;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }
        button:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
        }
        .file-list {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        .file-item {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }
        .file-item:last-child {
            border-bottom: none;
        }
        .status {
            text-align: center;
            margin: 20px 0;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìö Questions Sc√©nario</h1>
        
        <div class="info">
            <h3>üìã Contenu du ZIP</h3>
            <p>Ce t√©l√©chargement contient <strong>20 fichiers JSON</strong> repr√©sentant toutes les questions du sc√©nario √©ducatif sur les st√©r√©otypes et discriminations.</p>
        </div>

        <button id="downloadBtn" onclick="generateZip()">
            üì• T√©l√©charger le ZIP
        </button>

        <div class="status" id="status"></div>

        <div class="file-list">
            <h3>üìÅ Fichiers inclus :</h3>
            <div class="file-item">üìÑ question1.json - D√©finition des st√©r√©otypes</div>
            <div class="file-item">üìÑ question2A.json - Correction (fait souvent vrai)</div>
            <div class="file-item">üìÑ question2B.json - Correction (parler mal)</div>
            <div class="file-item">üìÑ question2C.json - Confirmation (bonne r√©ponse)</div>
            <div class="file-item">üìÑ question3.json - Publicit√© sexiste</div>
            <div class="file-item">üìÑ question4A.json - R√©action positive</div>
            <div class="file-item">üìÑ question4B.json - St√©r√©otype capacit√©</div>
            <div class="file-item">üìÑ question4C.json - Pseudo-√©tudes</div>
            <div class="file-item">üìÑ question5.json - Discrimination vestimentaire</div>
            <div class="file-item">üìÑ question6A.json - Malentendu suppos√©</div>
            <div class="file-item">üìÑ question6B.json - Justification physique</div>
            <div class="file-item">üìÑ question6C.json - Bonne compr√©hension</div>
            <div class="file-item">üìÑ question7.json - R√©action aux pleurs</div>
            <div class="file-item">üìÑ question8A.json - Soutien bienveillant</div>
            <div class="file-item">üìÑ question8B.json - Injonction masculine</div>
            <div class="file-item">üìÑ question8C.json - Insulte homophobe</div>
            <div class="file-item">üìÑ question9.json - Demande de c√¢lin</div>
            <div class="file-item">üìÑ question10A.json - Clarification</div>
            <div class="file-item">üìÑ question10B.json - Action sans consentement</div>
            <div class="file-item">üìÑ question10C.json - Respect du refus</div>
            <div class="file-item">üìÑ question11.json - Message sur le consentement</div>
        </div>
    </div>

    <script>
        const questions = {
            "question1": {
                "id": "question1",
                "context": "Mya et Yanis sortent du lyc√©e et discutent de leur journ√©e. Mya a eu cours sur les st√©r√©otypes.",
                "question": "Yanis demande √† Mya ce qu'est un st√©r√©otype. Que r√©pond-elle ?",
                "choices": [
                    "C'est un fait qui est le plus souvent vrai",
                    "C'est quand on parle mal des gens", 
                    "C'est une opinion qui peut conduire √† des discriminations"
                ],
                "nextQuestions": {
                    "A": "question2A",
                    "B": "question2B",
                    "C": "question2C"
                }
            },
            "question2A": {
                "id": "question2A",
                "context": "Mya a d'abord dit qu'un st√©r√©otype √©tait un fait souvent vrai, mais se corrige.",
                "question": "Comment Mya corrige-t-elle sa r√©ponse ?",
                "choices": [
                    "Elle maintient sa premi√®re r√©ponse",
                    "Elle dit que c'est plut√¥t une opinion qui peut conduire √† des discriminations",
                    "Elle change compl√®tement de sujet"
                ],
                "nextQuestions": {
                    "A": "question3",
                    "B": "question3",
                    "C": "question3"
                }
            },
            "question2B": {
                "id": "question2B",
                "context": "Mya a dit qu'un st√©r√©otype c'est quand on parle mal des gens, mais Yanis doute.",
                "question": "Comment Mya corrige-t-elle sa r√©ponse ?",
                "choices": [
                    "Elle maintient sa premi√®re r√©ponse",
                    "Elle dit que c'est plut√¥t une opinion qui peut conduire √† des discriminations", 
                    "Elle change compl√®tement de sujet"
                ],
                "nextQuestions": {
                    "A": "question3",
                    "B": "question3",
                    "C": "question3"
                }
            },
            "question2C": {
                "id": "question2C",
                "context": "Mya a correctement d√©fini un st√©r√©otype comme une opinion qui peut conduire √† des discriminations.",
                "question": "Quelle est la r√©action de Yanis ?",
                "choices": [
                    "Il conteste cette d√©finition",
                    "Il dit 'Ah oui c'est vrai !'",
                    "Il ne r√©pond pas"
                ],
                "nextQuestions": {
                    "A": "question3",
                    "B": "question3", 
                    "C": "question3"
                }
            },
            "question3": {
                "id": "question3",
                "context": "Mya et Yanis voient une publicit√© montrant une femme en cuisine. Mya trouve que c'est un st√©r√©otype.",
                "question": "Pourquoi voit-on toujours des femmes sur les affiches de cuisine selon Yanis ?",
                "choices": [
                    "Ce sont de vieux st√©r√©otypes misogynes qui veulent faire croire que la cuisine est 'une t√¢che r√©serv√©e' aux femmes",
                    "Elles sont bien meilleures que les hommes dans ce domaine",
                    "Des √©tudes sociologiques ont montr√© que les femmes s'int√©ressent plus √† la cuisine"
                ],
                "nextQuestions": {
                    "A": "question4A",
                    "B": "question4B", 
                    "C": "question4C"
                }
            },
            "question4A": {
                "id": "question4A",
                "context": "Yanis a identifi√© correctement les st√©r√©otypes misogynes.",
                "question": "Quelle est la r√©action de Mya ?",
                "choices": [
                    "Elle le contredit",
                    "Elle dit 'Exactement !'",
                    "Elle ne r√©pond pas"
                ],
                "nextQuestions": {
                    "A": "question5",
                    "B": "question5",
                    "C": "question5"
                }
            },
            "question4B": {
                "id": "question4B",
                "context": "Yanis pense que les femmes sont meilleures en cuisine.",
                "question": "Comment Mya r√©agit-elle ?",
                "choices": [
                    "Elle est d'accord avec lui",
                    "Elle dit 'N'importe quoi !' et explique pourquoi c'est un st√©r√©otype misogyne",
                    "Elle change de sujet"
                ],
                "nextQuestions": {
                    "A": "question5",
                    "B": "question5",
                    "C": "question5"
                }
            },
            "question4C": {
                "id": "question4C",
                "context": "Yanis √©voque des √©tudes sociologiques sur l'int√©r√™t des femmes pour la cuisine.",
                "question": "Comment Mya r√©agit-elle ?",
                "choices": [
                    "Elle demande √† voir l'√©tude et explique que c'est peut-√™tre d√ª aux r√¥les impos√©s par la soci√©t√©",
                    "Elle accepte cette explication",
                    "Elle ignore sa remarque"
                ],
                "nextQuestions": {
                    "A": "question5",
                    "B": "question5", 
                    "C": "question5"
                }
            },
            "question5": {
                "id": "question5",
                "context": "Dans le bus, le conducteur fait une remarque d√©plac√©e √† Mya sur sa tenue, alors que Yanis porte le m√™me short.",
                "question": "Pourquoi le conducteur fait-il la remarque √† Mya et pas √† Yanis ?",
                "choices": [
                    "Les r√®gles vestimentaires sont les m√™mes, Mya a mal compris",
                    "Les gar√ßons s'habillent plus large donc pas besoin de leur rappeler les r√®gles",
                    "Les filles sont plus surveill√©es sous pr√©texte qu'elles pourraient √™tre victimes d'agression"
                ],
                "nextQuestions": {
                    "A": "question6A",
                    "B": "question6B",
                    "C": "question6C"
                }
            },
            "question6A": {
                "id": "question6A",
                "context": "Yanis pense que Mya a mal compris et que le conducteur voulait faire attention √† elle.",
                "question": "Comment Mya r√©pond-elle ?",
                "choices": [
                    "Elle accepte cette explication",
                    "Elle dit que c'est n'importe quoi et que les v√™tements ne justifient pas une agression",
                    "Elle ne r√©pond pas"
                ],
                "nextQuestions": {
                    "A": "question7",
                    "B": "question7",
                    "C": "question7"
                }
            },
            "question6B": {
                "id": "question6B",
                "context": "Yanis explique que son short est plus large comme pour les gar√ßons en g√©n√©ral.",
                "question": "Comment Mya r√©agit-elle ?",
                "choices": [
                    "Elle est d'accord avec cette logique",
                    "Elle s'indigne et explique que les v√™tements ne justifient pas une agression",
                    "Elle reste silencieuse"
                ],
                "nextQuestions": {
                    "A": "question7",
                    "B": "question7",
                    "C": "question7"
                }
            },
            "question6C": {
                "id": "question6C",
                "context": "Yanis comprend que c'est injuste et que les v√™tements ne justifient pas une agression.",
                "question": "Quelle est la r√©action de Mya ?",
                "choices": [
                    "Elle le contredit",
                    "Elle dit 'Exactement !'", 
                    "Elle ne r√©pond pas"
                ],
                "nextQuestions": {
                    "A": "question7",
                    "B": "question7",
                    "C": "question7"
                }
            },
            "question7": {
                "id": "question7",
                "context": "Plus tard dans le bus, Yanis re√ßoit un message de rupture et se met √† pleurer. Un petit gar√ßon dit que les gar√ßons ne pleurent pas.",
                "question": "Comment Mya r√©agit-elle en voyant Yanis pleurer ?",
                "choices": [
                    "Est-ce que √ßa va ? Tu veux en parler ?",
                    "Sois fort ! T'es un homme montre-le !",
                    "Arr√™te de pleurer, ne fais pas ta tapette"
                ],
                "nextQuestions": {
                    "A": "question8A",
                    "B": "question8B",
                    "C": "question8C"
                }
            },
            "question8A": {
                "id": "question8A",
                "context": "Mya propose son soutien √† Yanis de mani√®re bienveillante.",
                "question": "Comment Yanis r√©agit-il ?",
                "choices": [
                    "Il refuse de parler",
                    "Il la remercie de ne pas r√©agir comme le petit gar√ßon et explique sa situation",
                    "Il se met en col√®re"
                ],
                "nextQuestions": {
                    "A": "question9",
                    "B": "question9",
                    "C": "question9"
                }
            },
            "question8B": {
                "id": "question8B",
                "context": "Mya dit √† Yanis d'√™tre fort car c'est un homme.",
                "question": "Comment Yanis r√©agit-il ?",
                "choices": [
                    "Il accepte ce conseil",
                    "Il dit qu'elle le saoule et remet en question ces st√©r√©otypes sur la virilit√©",
                    "Il arr√™te de pleurer imm√©diatement"
                ],
                "nextQuestions": {
                    "A": "question9",
                    "B": "question9", 
                    "C": "question9"
                }
            },
            "question8C": {
                "id": "question8C",
                "context": "Mya utilise une insulte homophobe en disant √† Yanis d'arr√™ter de 'faire sa tapette'.",
                "question": "Comment Yanis r√©agit-il ?",
                "choices": [
                    "Il accepte cette remarque",
                    "Il s'indigne et explique que c'est une insulte homophobe et que la tristesse concerne tout le monde",
                    "Il ignore la remarque"
                ],
                "nextQuestions": {
                    "A": "question9",
                    "B": "question9",
                    "C": "question9"
                }
            },
            "question9": {
                "id": "question9",
                "context": "Apr√®s leur discussion, Mya propose un c√¢lin √† Yanis qui r√©pond 'MDR'.",
                "question": "Comment Mya devrait-elle r√©agir face √† cette r√©ponse ambigu√´ ?",
                "choices": [
                    "Lui redemander pour clarifier sa r√©ponse",
                    "Lui faire un c√¢lin directement",
                    "Ne pas lui en faire"
                ],
                "nextQuestions": {
                    "A": "question10A",
                    "B": "question10B",
                    "C": "question10C"
                }
            },
            "question10A": {
                "id": "question10A",
                "context": "Mya demande des clarifications sur la r√©ponse de Yanis.",
                "question": "Que se passe-t-il quand Mya demande √† Yanis d'√™tre plus clair ?",
                "choices": [
                    "Il se met en col√®re",
                    "Il explique qu'il n'a pas envie mais ne voulait pas la vexer",
                    "Il accepte finalement le c√¢lin"
                ],
                "nextQuestions": {
                    "A": "question11",
                    "B": "question11",
                    "C": "question11"
                }
            },
            "question10B": {
                "id": "question10B",
                "context": "Mya fait un c√¢lin √† Yanis sans clarifier son consentement.",
                "question": "Comment Yanis r√©agit-il ?",
                "choices": [
                    "Il appr√©cie le geste",
                    "Il dit '√áa va pas ou quoi ? J'ai pas dit oui !'",
                    "Il ne dit rien"
                ],
                "nextQuestions": {
                    "A": "question11",
                    "B": "question11",
                    "C": "question11"
                }
            },
            "question10C": {
                "id": "question10C",
                "context": "Mya clarifie que Yanis ne veut pas de c√¢lin.",
                "question": "Comment Yanis confirme-t-il ?",
                "choices": [
                    "Il change d'avis",
                    "Il confirme qu'il n'a pas envie",
                    "Il ne r√©pond pas clairement"
                ],
                "nextQuestions": {
                    "A": "question11",
                    "B": "question11",
                    "C": "question11"
                }
            },
            "question11": {
                "id": "question11",
                "context": "Yanis explique qu'il n'est pas toujours facile pour un gar√ßon de dire non car on valorise l'id√©e qu'ils ont toujours envie.",
                "question": "Quel message principal Yanis veut-il faire passer ?",
                "choices": [
                    "Les gar√ßons sont plus forts que les filles",
                    "Les gar√ßons aussi ont le droit de ne pas avoir envie et doivent donner leur consentement",
                    "Les filles ne comprennent pas les gar√ßons"
                ],
                "nextQuestions": {}
            }
        };

        function generateZip() {
            const btn = document.getElementById('downloadBtn');
            const status = document.getElementById('status');
            
            btn.disabled = true;
            btn.textContent = '‚è≥ G√©n√©ration en cours...';
            status.textContent = 'Cr√©ation du fichier ZIP...';
            
            const zip = new JSZip();
            
            // Ajouter chaque question comme fichier JSON s√©par√©
            Object.keys(questions).forEach(questionId => {
                const questionData = questions[questionId];
                zip.file(`${questionId}.json`, JSON.stringify(questionData, null, 2));
            });
            
            // G√©n√©rer et t√©l√©charger le ZIP
            zip.generateAsync({type: "blob"}).then(function(content) {
                const link = document.createElement('a');
                link.href = URL.createObjectURL(content);
                link.download = 'questions_scenario_stereotypes.zip';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                btn.disabled = false;
                btn.textContent = '‚úÖ T√©l√©chargement termin√© !';
                status.textContent = 'ZIP t√©l√©charg√© avec succ√®s !';
                
                setTimeout(() => {
                    btn.textContent = 'üì• T√©l√©charger le ZIP';
                    status.textContent = '';
                }, 3000);
            });
        }
    </script>
</body>
</html>